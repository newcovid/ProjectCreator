
# 项目模板创建器 (ProjectCreator)

这是一个通用的WPF工具，用于自动化创建新项目的目录结构。

它通过读取一个预定义的模板文件夹，使用**完全可配置的**占位符（变量）来重命名文件和文件夹，并（可选地）替换模板文件内的占位符内容，最后将完整的结构复制到指定的目标路径。

## 核心功能

* **GUI 界面**：提供一个简洁的图形界面。
* **模板复制**：完整递归复制模板目录结构。
* **动态占位符系统**：
    * **目录/文件名**：自动重命名包含占位符的文件夹和文件名。
    * **文件内容**：(可选) 自动替换模板中 `README.md` 文件内的占位符。
* **高度可配置**：
    * 主界面的所有输入项（例如“项目名称”）均由用户在“高级配置”中动态定义。
    * 提供丰富的“预设”占位符（如日期、时间、GUID、用户名等）。
* **持久化配置**：自动保存所有路径、开关和自定义占位符到 `config.json`，日常使用无需重复配置。

## 如何使用

### 1. 配置 (首次运行)

1.  启动 `ProjectCreator.exe`。
2.  点击 "⚙️ 高级配置" 展开设置区域。
3.  点击“浏览...”设置“模板路径”和“目标路径”。
    * **重要**：您可以在这些路径中使用占位符。例如，目标路径可以设置为 `D:\我的项目\%year%\%month%`。
4.  在“**自定义占位符**”表格中，定义您希望在主界面上显示的输入项。
    * **Key (例如: project_name)**：这是占位符的“变量名”，只能用字母、数字和下划线。程序会自动将其转换为 `%project_name%`。
    * **UI 标签 (例如: 项目名称)**：这是显示在主界面输入框前的标签文本。
5.  (可选) 勾选或取消 "替换模板中 README.md 文件内的占位符" 开关。
6.  点击“**保存配置**”。

### 2. 日常创建 (日常使用)

1.  启动 `ProjectCreator.exe`。
2.  在主界面，填写所有由您配置的输入项（例如“项目名称”、“订单号”等）。
3.  点击“创建项目”按钮。
4.  程序会自动在您配置的“目标路径”（例如 `D:\我的项目\2025\10`）下创建新项目。

## 配置文件 (config.json)

本程序的配置是持久化的，保存在一个 `config.json` 文件中。

**文件位置**:
`C:\Users\[您的用户名]\AppData\Roaming\ProjectCreator\config.json`
(您也可以在资源管理器的地址栏输入 `%AppData%\ProjectCreator` 来快速访问)

**配置项说明**:

```json
{
  "TemplatePath": "D:\\模板库\\我的模板\\[%project_name%]",
  "TargetBasePath": "D:\\项目输出\\%year%\\%month%",
  "ReplaceReadmeContent": true,
  "UserPlaceholders": [
    {
      "Key": "project_name",
      "Label": "项目名称:"
    },
    {
      "Key": "order_no",
      "Label": "订单号:"
    },
    {
      "Key": "customer_name",
      "Label": "客户名称:"
    }
  ]
}
```

- * `TemplatePath`: 模板的源路径。路径的最后一级文件夹*可以*（也*应该*）包含占位符（例如 `[%project_name%]`），程序会读取这个名称并替换它。此路径也支持预设占位符（如 `%year%`）。
- * `TargetBasePath`: 项目的目标基础路径。程序会先解析此路径中的所有占位符（预设和自定义的），然后在解析后的路径下创建新项目。
- * `ReplaceReadmeContent`: (true/false) 对应高级配置中的开关，决定是否替换 `README.md` 文件的内容。
- * `UserPlaceholders`: 对应高级配置中的表格，定义了主界面的输入项。

## 占位符 (Placeholders)

程序支持两种类型的占位符（均不区分大小写）：

### 1\. 自定义占位符

这些是您在“高级配置”表格中定义的变量。它们的值来自您在主界面输入框中填写的内容。

| Key (在配置中) | 占位符 (在路径/文件中) | 含义                     |
| :------------- | :--------------------- | :----------------------- |
| `project_name` | `%project_name%`       | 来自“项目名称”输入框的值 |
| `order_no`     | `%order_no%`           | 来自“订单号”输入框的值   |

### 2\. 预设占位符

这些是程序内置的变量，根据当前系统自动生成。您不应（也不能）在自定义占位符中使用相同的 Key。

#### 日期

| 占位符          | 含义       | 示例     |
| :-------------- | :--------- | :------- |
| `%year%`        | 四位数年份 | `2025`   |
| `%yy%`          | 两位数年份 | `25`     |
| `%month%`       | 两位数月份 | `10`     |
| `%month_name%`  | 月份名称   | `十月`   |
| `%day%`         | 两位数日期 | `30`     |
| `%day_of_week%` | 星期几     | `星期四` |

#### 常用组合

| 占位符           | 含义         | 示例             |
| :--------------- | :----------- | :--------------- |
| `%date_iso%`     | ISO 格式日期 | `2025-10-30`     |
| `%date_cn%`      | 中文日期     | `2025年10月30日` |
| `%date_compact%` | 紧凑日期     | `20251030`       |

#### 时间 (24小时制)

| 占位符               | 含义         | 示例             |
| :------------------- | :----------- | :--------------- |
| `%hour_24%`          | 小时 (24h)   | `17`             |
| `%minute%`           | 分钟         | `05`             |
| `%second%`           | 秒           | `22`             |
| `%datetime_compact%` | 紧凑日期时间 | `20251030170522` |

#### 其他

| 占位符       | 含义                | 示例                                   |
| :----------- | :------------------ | :------------------------------------- |
| `%guid%`     | 唯一ID              | `f47ac10b-58cc-4372-a567-0e02b2c3d479` |
| `%username%` | 当前 Windows 用户名 | `newcovid`                             |

## 运行依赖

本程序是**依赖框架 (Framework-Dependent)** 的应用。

您**必须**在目标电脑上安装 **.NET 8.0 桌面运行时 (Desktop Runtime)** 才能运行。

## 开发与发布（供参考）

本项目使用以下命令进行发布，以生成“依赖框架”的单文件版本（体积小，启动快）：

```bash
# 发布 x64 版本
dotnet publish "ProjectCreator.csproj" -c Release -r win-x64 -p:PublishSingleFile=true -p:SelfContained=false -p:PublishReadyToRun=true -o "D:\path\to\output"
```